<!DOCTYPE html>
<html xmlns:th="www.thymeleaf.org">
	<head>
		<meta charset="utf-8">
		<title>员工注册界面</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="keywords" content="" />
		<script type="application/x-javascript">
			addEventListener("load", function() {
				setTimeout(hideURLbar, 0);
			}, false);

			function hideURLbar() {
				window.scrollTo(0, 1);
			}
		</script>
		<!-- Bootstrap Core CSS -->
		<link href="css/bootstrap.css" rel='stylesheet' type='text/css' />
		<!-- Custom CSS -->
		<link href="css/style.css" rel='stylesheet' type='text/css' />
		<!-- font CSS -->
		<!-- font-awesome icons -->
		<link href="css/font-awesome.css" rel="stylesheet">
		<!-- //font-awesome icons -->
		<!-- js-->
		<script src="js/jquery-1.11.1.min.js"></script>
		<script src="js/modernizr.custom.js"></script>
		<!--webfonts-->
		<link href='https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300,300italic,400italic,700,700italic' rel='stylesheet'
		 type='text/css'>
		<!--//webfonts-->
		<!--animate-->
		<link href="css/animate.css" rel="stylesheet" type="text/css" media="all">
		<script src="js/wow.min.js"></script>
		<script>
			new WOW().init();
			</script>
		<!--//end-animate-->
		<!-- Metis Menu -->
		<script src="js/metisMenu.min.js"></script>
		<script src="js/custom.js"></script>
		<link href="css/custom.css" rel="stylesheet">
		<!--//Metis Menu -->
	</head>
	<body>
		<div id="page-wrapper">
			<div class="main-page signup-page">
				<h3 class="title1">注&nbsp&nbsp&nbsp册</h3>
				<p class="creating">欢迎加入天堂酒店</p>
				<div class="sign-up-row widget-shadow">
				<form id="form" action="#" method="post" enctype="multipart/form-data">
					<h5>个 人 信 息 :</h5>
					<div class="sign-u">
						<div class="sign-up1">
							<h4>名 字* :</h4>
						</div>
						<div class="sign-up2">
								<input type="text" id="username" name="username" required>
						</div>
						<div class="clearfix"> </div>
					</div>
					<div class="sign-u">
						<div class="sign-up1">
							<h4>姓 氏* :</h4>
						</div>
						<div class="sign-up2">
								<input type="text" name="name" required>
						</div>
						<div class="clearfix"> </div>
					</div>
					<div class="sign-u">
						<div class="sign-up1">
							<h4>联 系 方 式* :</h4>
						</div>
						<div class="sign-up2">
								<input type="text" name="telephone" required>
						</div>
						<div class="clearfix"> </div>
					</div>
					<div class="sign-u">
						<div class="sign-up1">
							<h4>Email* :</h4>
						</div>
						<div class="sign-up2">
								<input type="text" name="email" required>
						</div>
						<div class="clearfix"> </div>
					</div>
					<div class="sign-u">
						<div class="sign-up1">
							<h4>身 份 证 号* :</h4>
						</div>
						<div class="sign-up2">
								<input type="text" name="idCard" required>
						</div>
						<div class="clearfix"> </div>
					</div>
					<div class="sign-u">
						<div class="sign-up1">
							<h4>所 属 部 门* :</h4>
						</div>
						<div class="sign-up2">
							<select name="departmentId" class="combobox"
								style="margin-top: 10px; width: 100%; height: 50px;">
								<option th:each="Department : ${Department}"
									th:value="${Department.id}"
									th:text="${Department.name}"></option>
							</select>
						</div>
						<div class="clearfix"> </div>
					</div>
					<br />
					<div class="sign-u">
						<div class="sign-up1">
							<h4>性 别* :</h4>
						</div>
						<div class="sign-up2">
							<label>
								<input checked="checked" type="radio" value="1" name="gender" required>
								男
							</label>
							<label>
								<input type="radio" name="gender" value="0" required>
								女
							</label>
						</div>
						<div class="clearfix"> </div>
					</div>
					<h6>登 录 信 息 :</h6>
					<div class="sign-u">
						<div class="sign-up1">
							<h4>密 码* :</h4>
						</div>
						<div class="sign-up2">
								<input type="password" id="pwd1" name="password" required>
						</div>
						<div class="clearfix"> </div>
					</div>
					<div class="sign-u">
						<div class="sign-up1">
							<h4>确 认 密 码* :</h4>
						</div>
						<div class="sign-up2">
								<input type="password" id="pwd2" required>
						</div>
						<div class="clearfix"> </div>
					</div>
					<div id="alertDiv" class="alert alert-warning" style="display:none">
						<a href="#" class="close" data-dismiss="alert"> &times; </a> <strong id="info">提示：请务必填写所有字段！</strong>
					</div>
					<div class="sub_home">
							<input id="sub" type="button" value="提 交">
							<input style="margin-left:28%" type="submit" value="取消">
						<div class="clearfix"> </div>
					</div>
					</form>
				</div>
			</div>
			
		</div>
		<!--footer-->
		<div class="footer">
		   <p>Copyright &copy; 垃圾佬团队版权所有</p>
		</div>
		<!--//footer-->
		<!-- Classie -->
		<script src="js/classie.js"></script>
	<script>
		function check() {
			if (form['telephone'] == '') {
				alert("用户名不能为空!");
				return false;
			}
			if (form['telephone'].value == '') {
				alert("联系电话不能为空!");
				return false;
			}
			if (form['idCard'].value == '') {
				alert("身份证号不能为空!");
				return false;
			}
			if (form['email'].value == '') {
				alert("邮箱地址不能为空!");
				return false;
			}
			if (form['password'].value == '') {
				alert("密码不能为空!");
				return false;
			}
		}
		$("#sub").click(function() {
			var username = $("#username").val();
			var pwd1 = $("#pwd1").val();
			var pwd2 = $("#pwd2").val();

			$.post('doname', {
				name : username
			}, function(result) {
				if (result.resultCode != 1) {
					$("#alertDiv").attr("class", "alert alert-warning");
					$("#alertDiv").css("display", "block");
					$("#alertDiv").children("strong").html(result.message);
					$("#username").val("");
				} else if (pwd1 != pwd2) {
					$("#alertDiv").attr("class", "alert alert-warning");
					$("#alertDiv").css("display", "block");
					$("#alertDiv").children("strong").html("两次密码输入不一致，请重新输入");
					$("#pwd1").val("");
					$("#pwd2").val("");
				} else {
					//验证成功后提交
					if(check()){
						reg();
					}
				}
			})
		});
		//提交表单数据
		function reg() {
			$.post('doreg', $('#form').serialize(), function(result) {
				if (result.resultCode == 1) {
					$("#alertDiv").attr("class", "alert alert-success");
					$("#alertDiv").children("strong").html(
							result.message + " 3秒后跳转到登录页");
					setTimeout("location.href = 'login.html'", 3000);//3000毫秒后跳转
				} else {
					$("#alertDiv").children("strong").html(result.message);
				}
			});
		}
		var menuLeft = document.getElementById('cbp-spmenu-s1'), showLeftPush = document
				.getElementById('showLeftPush'), body = document.body;

		function disableOther(button) {
			if (button !== 'showLeftPush') {
				classie.toggle(showLeftPush, 'disabled');
			}
		}
	</script>
	<!--scrolling js-->
		<script src="js/jquery.nicescroll.js"></script>
		<script src="js/scripts.js"></script>
		<!--//scrolling js-->
		<!-- Bootstrap Core JavaScript -->
		<script src="js/bootstrap.js"> </script>
	</body>
</html>